{% extends "base.html" %}

{% block extra_head %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/board.css' %}" />
<script src="{% static 'js/board.js' %}"></script>
{% endblock %}

{% block content %}
<!--메인 콘텐츠 작성-->
<div class="board">
<aside>
    <div class="menuA"><a href="">공지사항</a></div>
    <div class="menuB"><a href="">문의하기</a></div>
    <div id="menuC" class="menuC" mouseover="show()">
        <i class="bi bi-chevron-right"></i>
        <a href="">커뮤니티</a>
    </div>
    <div id="menuC2" style="display: none;" mouseover="show()">
    <div class="menuC2-1"><a href="">- HOT</a></div>
    <div class="menuC2-1"><a href="">- Q&A</a></div>
    <div class="menuC2-1"><a href="">- Talk</a></div>
    </div>
</aside>

<div class="post">
   <div class="post_info">
        <div class="post_infoA">5월 정기발표회 안내</div>
        <div class="post_infoB">
            <span>작성자</span> <span class="post_name">김나리</span>
            <span>|</span> <span>등록일</span> <span class="post_time">2025.01.01 12:00</span>
            <span>|</span> <span>조회수</span> <span class="post_click">15</span>
        </div>
   </div>

   <div class="post_textA">
        <div class="post_textB">
                일시: 1월 27일 목요일 17시 20분<br>
                장소: 정보문화관 3층 ICT 창의실습실<br><br>
                26일 수요일 자정까지 발표 자료는 회장에게, 보고서는 노션에 업로드해 주시기 바랍니다.<br>
                불참이신 경우, 부회장에게 하루 전까지 사유와 함께 전달해 주시기 바랍니다.<br>
        </div>
    </div>

    <div class="post_list">
        <i class="bi bi-list-ul"></i>
        <a href="">목록으로</a>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
    let menuC = document.getElementById('menuC');
    let menuC2 = document.getElementById('menuC2');
    let timeoutId;
    let icon = menuC.querySelector('i'); 

    function show() {
        clearTimeout(timeoutId); 
        menuC2.style.display = 'block';
    }

    function hide() {
        timeoutId = setTimeout(() => {
            if (!menuC.contains(document.activeElement) && !menuC2.contains(document.activeElement)) {
                menuC2.style.display = 'none';
            }
        }, 100); 
    }

    function changeIconToDown() {
        icon.classList.remove('bi-chevron-right');
        icon.classList.add('bi-chevron-down');
    }

    function changeIconToRight() {
        icon.classList.remove('bi-chevron-down');
        icon.classList.add('bi-chevron-right');
    }

    menuC.addEventListener('mouseover', () => {
        show();
        changeIconToDown(); 
    });

    menuC2.addEventListener('mouseover', () => {
        show();
        changeIconToDown();
    });

    menuC.addEventListener('mouseout', (event) => {
        if (!menuC2.contains(event.relatedTarget)) {
            hide();
            changeIconToRight(); 
        }
    });

    menuC2.addEventListener('mouseout', (event) => {
        if (!menuC.contains(event.relatedTarget)) {
            hide();
            changeIconToRight();
        }
    });
});
</script>

{% endblock %}

